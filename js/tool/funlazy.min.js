/*!
 * FunLazy v2.1.0
 * Copyright (C) 2020, ZG
 * Released under the MIT license.
 */
!function(b,d){"function"===typeof define&&define.cmd?define(d):"undefined"!==typeof module&&"object"===typeof exports?module.exports=d(b):b.FunLazy=d(b)}("undefined"!==typeof window?window:this,function(b){function d(d,a){return g.defaultView.getComputedStyle(d,null).getPropertyValue(a)}function n(d,a,b){b?d.src=a:d.style.backgroundImage="url("+a+")"}function u(b){g.body.contains(b)&&"body"!==b.parentNode.nodeName.toLowerCase()&&(h=b.parentNode,"none"===d(h,"display")||"hidden"===d(h,"visibility")?k=!0:u(h));return k}var g=window.document,p=g.documentElement;b=g.head;var v="function"===typeof IntersectionObserver,A="function"===typeof MutationObserver,B={container:"body",effect:"show",placeholder:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAA1BMVEXd3d3u346CAAAADUlEQVR42gECAP3/AAAAAgABUyucMAAAAABJRU5ErkJggg\x3d\x3d",errorPlaceholder:"",threshold:0,width:null,height:null,axis:"y",eventType:"",autoCheckChange:!1,beforeLazy:function(){},onSuccess:function(){},onError:function(){}},m=g.getElementById("funlazy-fadeIn-style");m&&b.removeChild(m);b.insertAdjacentHTML("afterbegin",'\x3cstyle id\x3d"funlazy-fadeIn-style"\x3e.funlazy-fadeIn{-webkit-animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;-moz-animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running}@-webkit-keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}@keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}\x3c/style\x3e');var k=!1,h=null,l=function(b){var a=function(a,d){var c={},b;for(b in d)c[b]=a[b]||d[b];return c}(b||{},B),h="function"===typeof a.beforeLazy,k="function"===typeof a.onSuccess,m="function"===typeof a.onError,f=g.querySelector(a.container);if(f&&(b=f.querySelectorAll("[data-funlazy]"),b.length))return[].slice.call(b).forEach(function(c){function b(b,c){if(b.funlazyLoaded)c&&c(!0);else{var d=new Image;d.onload=function(){n(b,e,r);if("fadeIn"===a.effect&&"classList"in p){b.classList.add("funlazy-fadeIn");var d=window.setTimeout(function(){window.clearTimeout(d);b.classList.remove("funlazy-fadeIn")},400)}if(!b.funlazyLoaded&&k)a.onSuccess(b,e);b.funlazyLoaded=!0;c&&c(!0)};d.onerror=function(){"string"===typeof a.errorPlaceholder&&n(b,a.errorPlaceholder,r);if(!b.funlazyFailed&&m)a.onError(b,e);b.funlazyFailed=!0;c&&c(!1)};h&&(e=a.beforeLazy(e)||e);d.src=e}}function q(){if(!c.funlazyLoaded)if(v){var e="number"===typeof a.threshold&&0<a.threshold?a.threshold:0,g=new IntersectionObserver(function(a){a.forEach(function(a){a.target&&a.isIntersecting&&b(a.target,function(b){!0===b&&g.unobserve(a.target)})})},{root:"body"===a.container?null:f,threshold:[0],rootMargin:"0px "+("x"===a.axis?e:0)+"px "+("y"===a.axis?e:0)+"px 0px"});g.observe(c)}else if(e=function(){try{var d=c.getBoundingClientRect();if("x"===a.axis){var e=window.pageXOffset;e<d.left+e+a.threshold+l&&p.clientWidth+e>d.left+e-a.threshold&&b(c)}if("y"===a.axis){var f=window.pageYOffset;f<d.top+f+a.threshold+w&&p.clientHeight+f>d.top+f-a.threshold&&b(c)}}catch(D){}},"body"===a.container)e();else if(f)if("fixed"===d(f,"position"))e();else try{if("x"===a.axis){var h=f.scrollLeft;h<c.offsetLeft+a.threshold+l&&parseInt(d(f,"width"))+h>c.offsetLeft-a.threshold&&b(c)}if("y"===a.axis){var k=f.scrollTop;k<c.offsetTop+a.threshold+w&&parseInt(d(f,"height"))+k>c.offsetTop-a.threshold&&b(c)}}catch(C){}}var e=c.getAttribute("data-funlazy").trim();if(e&&"none"!==d(c,"display")&&"hidden"!==d(c,"visibility")&&!u(c)&&0!==d(c,"opacity")&&!c.funlazyLoaded){var r="img"===c.nodeName.toLowerCase();"string"===typeof a.placeholder&&n(c,a.placeholder,r);a.width&&(c.style.width="string"===typeof a.width?a.width:a.width+"px");a.height&&(c.style.height="string"===typeof a.height?a.height:a.height+"px");var l=parseInt(d(c,"width")),w=parseInt(d(c,"height"));a.eventType.match(/(click|dblclick|mouseover)/)?g.addEventListener(a.eventType,function(a){a.target!==c||c.funlazyLoaded||c.funlazyFailed||b(c)}):q();if(!v&&!a.eventType){var x="body"===a.container?window:f,y=null,t=!1,z=function(){t||(t=!0,q(),y=window.setTimeout(function(){window.clearTimeout(y);t=!1;q()},200))};x.addEventListener("scroll",z);x.addEventListener("resize",z)}}}),a.autoCheckChange&&A&&(new MutationObserver(function(){l(a)})).observe(f,{childList:!0,subtree:!0}),a};return l});