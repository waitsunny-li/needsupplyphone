<!--
 * @Author: liweilong
 * @Date: 2020-10-13 14:35:12
-->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <!-- 通用样式 -->
  <link rel="stylesheet" href="./css/normalize.css">
  <link rel="stylesheet" href="./css/init.min.css">
  <link rel="stylesheet" href="./css/publishneed.css">
  <link rel="stylesheet" href="./js/tool/layer/need/layer.css">

  <script src="./js/tool/flexible.js"></script>
  <script src="./js/tool/jquery.min.js"></script>
  <script src="./js/tool/layer/layer.js"></script>
  <script type="text/javascript" src="https://3gimg.qq.com/lightmap/components/geolocation/geolocation.min.js"></script>
  <script src="./js/location.min.js"></script>
  <script src="./js/message.min.js"></script>

  <title>发布供应</title>
</head>

<body>
  <!-- 头部 -->
  <div class="header_wrap">
    <div class="left_arrow">
      取消
    </div>

    <div class="head_text">发布供应</div>

    <div class="publish_btn">
      发布
    </div>
  </div>

  <!-- 发布内容 -->
  <div class="publish_content_wrap">
    <div class="title_input">
      <input type="text" name="title" placeholder="标题...">
    </div>
    <div class="desc">
      <textarea type="text" name="desc" placeholder="描述..."></textarea>
    </div>
    <div class="pic_group">
      <div class="pic_wrap">
        <img src="./images/goods2.png" alt="">
      </div>
      <div class="pic_upload">
        <svg t="1603345486060" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="3020" width="35" height="35">
          <path
            d="M980.700543 468.454893H557.401933V45.156283a43.350032 43.350032 0 0 0-86.700063 0v423.29861H47.396035a43.350032 43.350032 0 0 0 0 86.700064h423.305835v423.31306a43.350032 43.350032 0 0 0 86.700063 0v-423.31306h423.29861a43.350032 43.350032 0 0 0 0-86.700064z"
            fill="#666666" p-id="3021"></path>
        </svg>
        <input type="file" name="file" class="pic_upload_btn" hidden>
      </div>
    </div>
  </div>

  <!-- 发布地址 -->
  <div class="pub_address">
    <div class="icon_wrap">
      <svg t="1603350290956" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
        p-id="5262" width="35" height="35">
        <path
          d="M554.666667 853.333333S298.666667 610.133333 298.666667 469.333333h-64c0 145.066667 213.333333 362.666667 292.266666 435.2 17.066667 14.933333 40.533333 14.933333 57.6 0C661.333333 832 874.666667 614.4 874.666667 469.333333h-64c0 140.8-256 384-256 384z"
          p-id="5263" fill="#666666"></path>
        <path
          d="M554.666667 341.333333c-70.4 0-128 57.6-128 128s57.6 128 128 128 128-57.6 128-128-57.6-128-128-128z m0 192c-36.266667 0-64-27.733333-64-64s27.733333-64 64-64 64 27.733333 64 64-29.866667 64-64 64zM797.866667 390.4c8.533333 25.6 12.8 51.2 12.8 78.933333h64c0-34.133333-6.4-68.266667-14.933334-98.133333-6.4-21.333333-29.866667-29.866667-49.066666-17.066667-12.8 6.4-17.066667 21.333333-12.8 36.266667z"
          p-id="5264" fill="#666666"></path>
        <path
          d="M778.666667 296.533333c17.066667-10.666667 19.2-34.133333 6.4-49.066666C727.466667 187.733333 644.266667 149.333333 554.666667 149.333333c-177.066667 0-320 142.933333-320 320h64c0-140.8 115.2-256 256-256 72.533333 0 138.666667 29.866667 185.6 78.933334 8.533333 10.666667 25.6 12.8 38.4 4.266666z"
          p-id="5265" fill="#666666"></path>
      </svg>
      <span class="fa_text">发布地址：</span>
    </div>
    <div class="address">
    </div>
  </div>
</body>

</html>

<script>
  // 上传图片
  $('.pic_upload .icon').click(function () {
    $('.pic_upload_btn').click()
  })

  // 增加图片
  function addImg(url) {
    $('.pic_group').prepend(`<div class="pic_wrap">
        <img src="${url}" alt="">
      </div>`)
  }


  // 文件上传事件
  $('.pic_upload_btn').change(function (e) {
    addImg('./images/goods1.png')
  })

  // 返回
  $('.left_arrow').click(function () {
    window.history.back()
  })

  // 获取地址
  let ll = new MyLocation()
  ll.init().then(position => {
    // alert(Object.keys(position));
    let address = position.city + position.district
    $('.address').text(address)
  }).catch(error => {
    message.error(error)
  })
</script>